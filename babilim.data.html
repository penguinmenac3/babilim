

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Data &mdash; babilim 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Experiment Configuration" href="babilim.experiment.html" />
    <link rel="prev" title="Core" href="babilim.core.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> babilim
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials.install.html">Install Babilim</a></li>
</ul>
<p class="caption"><span class="caption-text">Packages</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="babilim.html">Main Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="babilim.callbacks.html">Callbacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="babilim.core.html">Core</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="babilim.experiment.html">Experiment Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="babilim.layers.html">Layers</a></li>
<li class="toctree-l1"><a class="reference internal" href="babilim.logger.html">Logging &amp; Checkpoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="babilim.losses.html">Losses &amp; Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="babilim.models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="babilim.optimizers.html">Optimizers &amp; Learning Rates</a></li>
<li class="toctree-l1"><a class="reference internal" href="babilim.utils.html">Utils</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples.mnist.html">MNIST Example (Babilim)</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.mnist.pytorch.html">MNIST Example (Pytorch Native)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">babilim</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Data</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/babilim.data.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="data">
<h1>Data<a class="headerlink" href="#data" title="Permalink to this headline">¶</a></h1>
<p>The data package is all about data handling.</p>
<p><strong>Dataset</strong> is the most important class in the data package.
Every babilim project and even non babilim projects must/should have a Dataset-class.
This class defines an easy interface to your dataset.
You implement the <cite>version</cite>-property, <cite>__len__(self)</cite> and <cite>getitem(self, index)</cite> methods and the Dataset takes care of the rest.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">babilim</span>
<span class="kn">from</span> <span class="nn">babilim.experiment</span> <span class="kn">import</span> <span class="n">Config</span>
<span class="kn">from</span> <span class="nn">babilim.data</span> <span class="kn">import</span> <span class="n">Dataset</span><span class="p">,</span> <span class="n">image_grid_wrap</span>

<span class="k">class</span> <span class="nc">MyFancyDataset</span><span class="p">(</span><span class="n">Dataset</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Config</span><span class="p">,</span> <span class="n">phase</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="c1"># TODO do some preprocessing of your dataset, e.g. figuring out what files you want to use</span>
        <span class="c1"># and defining what file gets opened by an index.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filenames</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filenames</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">getitem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">NetworkInput</span><span class="p">,</span> <span class="n">NetworkOutput</span><span class="p">]:</span>
        <span class="c1"># TODO load your image and class label for the training example with index idx.</span>
        <span class="c1"># (Note this is not a batch but a single example)</span>
        <span class="k">return</span> <span class="n">NetworkInput</span><span class="p">(</span><span class="n">features</span><span class="o">=</span><span class="n">image_grid_wrap</span><span class="p">(</span><span class="n">image</span><span class="p">)),</span> <span class="n">NetworkOutput</span><span class="p">(</span><span class="n">class_id</span><span class="o">=</span><span class="n">label</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">version</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;MyFancyDataset&quot;</span>

<span class="c1"># Create your training dataset</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">MyFancyDataset</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">babilim</span><span class="o">.</span><span class="n">PHASE_TRAIN</span><span class="p">)</span>

<span class="c1"># If you want to manually train your model, you can get a native dataset with batching in one line</span>
<span class="n">batched_tensor_dataset</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">to_native</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Transformer</strong> and a <strong>TransformedDataset</strong> can be used to apply minor transformations to your dataset.
A typical use-case would be applying an encoding required for a specific neural network (e.g. one hot encoding).
<em>It should not be used for complex transformations and any transformation that changes the length of your dataset, use a dataset wrapper for that.</em></p>
<p><strong>image_grid_wrap</strong> and <strong>image_grid_unwrap</strong> are functions which must be applied on any image input data for your network.
This ensures that the dimensions are correct for both pytorch and tensorflow since they both need different representations for image grid data.</p>
<p>A lot more features can be found in this package (like binary data loading helpers, MultiZipReaders to help reading from zipped datasets and more).</p>
<p><strong>Autogenerated Documentation</strong></p>
<span class="target" id="module-babilim.data"></span><dl class="class">
<dt id="babilim.data.Dataset">
<em class="property">class </em><code class="sig-prename descclassname">babilim.data.</code><code class="sig-name descname">Dataset</code><span class="sig-paren">(</span><em class="sig-param">config: babilim.experiment.config.Config</em><span class="sig-paren">)</span><a class="headerlink" href="#babilim.data.Dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Sequence</span></code></p>
<p>An abstract class representing a Dataset.</p>
<p>All other datasets should subclass it. All subclasses should override
<code class="docutils literal notranslate"><span class="pre">__len__</span></code>, that provides the size of the dataset, and <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code>,
supporting integer indexing in range from 0 to len(self) exclusive.</p>
<p>Extending on the pytorch dataset this dataset also needs to implement a <code class="docutils literal notranslate"><span class="pre">version</span></code> function.
The version function returns a number (can be a hash) which changes, whenever the dataset changes.
This enables subsequent callers to buffer this dataset and update their buffers when the version changes.</p>
<dl class="method">
<dt id="babilim.data.Dataset.as_cached">
<code class="sig-name descname">as_cached</code><span class="sig-paren">(</span><em class="sig-param">cache_path: str</em><span class="sig-paren">)</span> &#x2192; babilim.data.data_provider._CachedDataset<a class="headerlink" href="#babilim.data.Dataset.as_cached" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a dataset into a cached dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cache_path</strong> – The path where the cache should be saved.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="babilim.data.Dataset.from_disk">
<em class="property">static </em><code class="sig-name descname">from_disk</code><span class="sig-paren">(</span><em class="sig-param">config: babilim.experiment.config.Config</em>, <em class="sig-param">cache_path: str</em>, <em class="sig-param">version: str</em><span class="sig-paren">)</span> &#x2192; babilim.data.data_provider._CachedDataset<a class="headerlink" href="#babilim.data.Dataset.from_disk" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dataset from a cache on disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> – The configuration for the dataset.</p></li>
<li><p><strong>cache_path</strong> – The path to the cache.</p></li>
<li><p><strong>version</strong> – The version of the dataset that should be loaded.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A CachedDataset object that represents the data that has been passed to “to_disk” when creating the cache.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="babilim.data.Dataset.getitem">
<code class="sig-name descname">getitem</code><span class="sig-paren">(</span><em class="sig-param">index: int</em><span class="sig-paren">)</span> &#x2192; Any<a class="headerlink" href="#babilim.data.Dataset.getitem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="babilim.data.Dataset.to_disk">
<code class="sig-name descname">to_disk</code><span class="sig-paren">(</span><em class="sig-param">cache_path: str</em>, <em class="sig-param">verbose: bool = True</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#babilim.data.Dataset.to_disk" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a dataset as a cache to the disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cache_path</strong> – The path where the cache should be written.</p></li>
<li><p><strong>verbose</strong> – If info on progress should be printed, defaults to True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="babilim.data.Dataset.to_keras">
<code class="sig-name descname">to_keras</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#babilim.data.Dataset.to_keras" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the dataset into a batched keras dataset.</p>
<p>The type will be tf.keras.Sequence.</p>
</dd></dl>

<dl class="method">
<dt id="babilim.data.Dataset.to_native">
<code class="sig-name descname">to_native</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; babilim.data.data_provider.TensorDataset<a class="headerlink" href="#babilim.data.Dataset.to_native" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO</p>
</dd></dl>

<dl class="method">
<dt id="babilim.data.Dataset.to_pytorch">
<code class="sig-name descname">to_pytorch</code><span class="sig-paren">(</span><em class="sig-param">shuffle: bool = True</em>, <em class="sig-param">num_workers: int = 1</em><span class="sig-paren">)</span><a class="headerlink" href="#babilim.data.Dataset.to_pytorch" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the dataset into a batched pytorch dataset.</p>
<p>The type will be torch.utils.data.DataLoader.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shuffle</strong> – If the data should be shuffeled. Defaults to True.</p></li>
<li><p><strong>num_workers</strong> – The number of multithreaded workers. Defaults to 1, since more usually does not work.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="babilim.data.Dataset.to_tfrecord">
<code class="sig-name descname">to_tfrecord</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#babilim.data.Dataset.to_tfrecord" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a tfrecord dataset from the dataset.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Currently not implemented. Use .as_cached(…).to_keras() instead.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="babilim.data.Dataset.version">
<em class="property">property </em><code class="sig-name descname">version</code><a class="headerlink" href="#babilim.data.Dataset.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the version of the data in the dataset. When the data is static you can return a static string.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The version number of the dataset.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="babilim.data.TransformedDataset">
<em class="property">class </em><code class="sig-prename descclassname">babilim.data.</code><code class="sig-name descname">TransformedDataset</code><span class="sig-paren">(</span><em class="sig-param">dataset: babilim.data.data_provider.Dataset</em>, <em class="sig-param">transformer: babilim.data.data_provider.Transformer</em><span class="sig-paren">)</span><a class="headerlink" href="#babilim.data.TransformedDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">babilim.data.data_provider.Dataset</span></code></p>
<dl class="method">
<dt id="babilim.data.TransformedDataset.getitem">
<code class="sig-name descname">getitem</code><span class="sig-paren">(</span><em class="sig-param">index: int</em><span class="sig-paren">)</span> &#x2192; Any<a class="headerlink" href="#babilim.data.TransformedDataset.getitem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="babilim.data.TransformedDataset.version">
<em class="property">property </em><code class="sig-name descname">version</code><a class="headerlink" href="#babilim.data.TransformedDataset.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the version of the data in the dataset. When the data is static you can return a static string.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The version number of the dataset.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="babilim.data.Transformer">
<em class="property">class </em><code class="sig-prename descclassname">babilim.data.</code><code class="sig-name descname">Transformer</code><a class="headerlink" href="#babilim.data.Transformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A transformer should implement <code class="docutils literal notranslate"><span class="pre">__call__</span></code>.</p>
</dd></dl>

<dl class="class">
<dt id="babilim.data.ComposeTransforms">
<em class="property">class </em><code class="sig-prename descclassname">babilim.data.</code><code class="sig-name descname">ComposeTransforms</code><span class="sig-paren">(</span><em class="sig-param">transforms: Iterable[babilim.data.data_provider.Transformer]</em><span class="sig-paren">)</span><a class="headerlink" href="#babilim.data.ComposeTransforms" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">babilim.data.data_provider.Transformer</span></code></p>
</dd></dl>

<dl class="class">
<dt id="babilim.data.TensorDataset">
<em class="property">class </em><code class="sig-prename descclassname">babilim.data.</code><code class="sig-name descname">TensorDataset</code><span class="sig-paren">(</span><em class="sig-param">native_dataset</em><span class="sig-paren">)</span><a class="headerlink" href="#babilim.data.TensorDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Iterable</span></code></p>
</dd></dl>

<dl class="function">
<dt id="babilim.data.parse">
<code class="sig-prename descclassname">babilim.data.</code><code class="sig-name descname">parse</code><span class="sig-paren">(</span><em class="sig-param">fmt: str</em>, <em class="sig-param">binary_buffer</em>, <em class="sig-param">repeat: bool = False</em><span class="sig-paren">)</span> &#x2192; Any<a class="headerlink" href="#babilim.data.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>All types that you registered and basic datatypes from struct are supported
<a class="reference external" href="https://docs.python.org/3/library/struct.html">https://docs.python.org/3/library/struct.html</a>
Numbers like 4i are not supported, use iiii instead.</p>
<p>1D Arrays are also supported by using [d] for a double array like [1,2,3].
Arrays support any datatype. When using [s] it automatically gets joined to a string, since s is only one character of a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fmt</strong> – The format string.</p></li>
<li><p><strong>binary_buffer</strong> – The binary buffer where to read from.</p></li>
<li><p><strong>repeat</strong> – If the format should be repeated if the buffer is not empty at the end of the format pattern.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The object(s) read from the buffer.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="babilim.data.write">
<code class="sig-prename descclassname">babilim.data.</code><code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param">fmt: str</em>, <em class="sig-param">obj: Any</em>, <em class="sig-param">binary_buffer</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#babilim.data.write" title="Permalink to this definition">¶</a></dt>
<dd><p>All types that you registered and basic datatypes from struct are supported
<a class="reference external" href="https://docs.python.org/3/library/struct.html">https://docs.python.org/3/library/struct.html</a>
Numbers like 4i are not supported, use iiii instead.</p>
<p>1D Arrays are also supported by using [d] for a double array like [1,2,3].
Arrays support any datatype. When using [s] it automatically gets joined to a string, since s is only one character of a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fmt</strong> – The format string.</p></li>
<li><p><strong>obj</strong> – The object or list of objects that should be written. In case of a list the pattern will be repeated.</p></li>
<li><p><strong>binary_buffer</strong> – The binary buffer where to write to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="babilim.data.register_binary_fmt">
<code class="sig-prename descclassname">babilim.data.</code><code class="sig-name descname">register_binary_fmt</code><span class="sig-paren">(</span><em class="sig-param">type_char: str</em>, <em class="sig-param">fmt: str</em><span class="sig-paren">)</span> &#x2192; Callable[Callable, Callable]<a class="headerlink" href="#babilim.data.register_binary_fmt" title="Permalink to this definition">¶</a></dt>
<dd><p>A class decorator to register a new datatype.
The fmt must specify the types of the arguments of the class.
To use the write feature a class must implement a serialize function, but for only reading it is not required.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@register_binary_fmt</span><span class="p">(</span><span class="n">type_char</span><span class="o">=</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;bb[e]e[s]e&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">ExampleType</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i1</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">i2</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">arr1d</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">f1</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">s1</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">d1</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">i1</span> <span class="o">=</span> <span class="n">i1</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">i2</span> <span class="o">=</span> <span class="n">i2</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">arr1d</span> <span class="o">=</span> <span class="n">arr1d</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">f1</span> <span class="o">=</span> <span class="n">f1</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">d1</span> <span class="o">=</span> <span class="n">d1</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">s1</span> <span class="o">=</span> <span class="n">s1</span>

<span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">i1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">arr1d</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">f1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">s1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">d1</span><span class="p">]</span>
</pre></div>
</div>
<p>All types that you registered and basic datatypes from struct are supported
<a class="reference external" href="https://docs.python.org/3/library/struct.html">https://docs.python.org/3/library/struct.html</a>
Numbers like 4i are not supported, use iiii instead.</p>
<p>1D Arrays are also supported by using [d] for a double array like [1,2,3].
Arrays support any datatype. When using [s] it automatically gets joined to a string, since s is only one character of a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type_char</strong> – The type character that should be assigned for this type. E.g. “T”.</p></li>
<li><p><strong>fmt</strong> – The format of this type object. (The types of the constructor basically.)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="babilim.data.download_zip">
<code class="sig-prename descclassname">babilim.data.</code><code class="sig-name descname">download_zip</code><span class="sig-paren">(</span><em class="sig-param">root_dir: str</em>, <em class="sig-param">url: str</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#babilim.data.download_zip" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a zip from a url and extract it into a data folder.
Usefull for downloading small datasets.</p>
<p>The zip file gets extracted in the root_folder. It is recommended to set the root dir to your dataset folder when you download a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>root_dir</strong> – The root directory where to extract all.</p></li>
<li><p><strong>url</strong> – The url from which to download the zip archive.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="babilim.data.MultiZipReader">
<em class="property">class </em><code class="sig-prename descclassname">babilim.data.</code><code class="sig-name descname">MultiZipReader</code><span class="sig-paren">(</span><em class="sig-param">*</em>, <em class="sig-param">zipfiles: List[str] = None</em>, <em class="sig-param">zipfile: str = None</em><span class="sig-paren">)</span><a class="headerlink" href="#babilim.data.MultiZipReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="babilim.data.MultiZipReader.file_list">
<em class="property">property </em><code class="sig-name descname">file_list</code><a class="headerlink" href="#babilim.data.MultiZipReader.file_list" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of all files in all zip files.
:return: A list containing all files.</p>
</dd></dl>

<dl class="method">
<dt id="babilim.data.MultiZipReader.file_tree">
<em class="property">property </em><code class="sig-name descname">file_tree</code><a class="headerlink" href="#babilim.data.MultiZipReader.file_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>The tree structure of all files in all zip files.
:return:</p>
</dd></dl>

<dl class="method">
<dt id="babilim.data.MultiZipReader.open_file">
<code class="sig-name descname">open_file</code><span class="sig-paren">(</span><em class="sig-param">filename: str</em><span class="sig-paren">)</span> &#x2192; object<a class="headerlink" href="#babilim.data.MultiZipReader.open_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a file with a file handle so user can decide what to do with it.
:param filename: The file which to open.
:return: The file handle of the file (like open(…)).</p>
</dd></dl>

<dl class="method">
<dt id="babilim.data.MultiZipReader.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param">filename: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#babilim.data.MultiZipReader.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a files content as a string.
:param filename: The filename of the file.
:return: The content of the file as a string.</p>
</dd></dl>

<dl class="method">
<dt id="babilim.data.MultiZipReader.read_image">
<code class="sig-name descname">read_image</code><span class="sig-paren">(</span><em class="sig-param">filename: str</em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#babilim.data.MultiZipReader.read_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Read an image from the zips.
:param filename: The filename of the file.
:return: The image as a numpy array.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="babilim.data.image_grid_wrap">
<code class="sig-prename descclassname">babilim.data.</code><code class="sig-name descname">image_grid_wrap</code><span class="sig-paren">(</span><em class="sig-param">data: numpy.ndarray</em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#babilim.data.image_grid_wrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares 2D grid information to be used in your neural network.
This is required for all data that should be usable by a 2D Convolution.</p>
<p>If your data has shape [H, W] it gets transformed to [H, W, 1] automatically.
For pytorch the data gets further reordered in a channel first order [C, H, W].</p>
<dl class="simple">
<dt>Arguments:</dt><dd><p>data {np.ndarray} – The data that should be prepared.</p>
</dd>
<dt>Returns:</dt><dd><p>np.ndarray – A numpy ndarray with the prepared image/grid data.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="babilim.data.image_grid_unwrap">
<code class="sig-prename descclassname">babilim.data.</code><code class="sig-name descname">image_grid_unwrap</code><span class="sig-paren">(</span><em class="sig-param">data: numpy.ndarray</em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#babilim.data.image_grid_unwrap" title="Permalink to this definition">¶</a></dt>
<dd><p>For pytorch the data gets reordered in a channel last order [H, W, C].</p>
<dl class="simple">
<dt>Arguments:</dt><dd><p>data {np.ndarray} – The data that should be unwrapped.</p>
</dd>
<dt>Returns:</dt><dd><p>np.ndarray – A numpy ndarray with the unwrapped image/grid data.</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="babilim.experiment.html" class="btn btn-neutral float-right" title="Experiment Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="babilim.core.html" class="btn btn-neutral float-left" title="Core" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Michael Fuerst

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
---

title: babilim.core.logger

keywords: fastai
sidebar: home_sidebar

summary: "Logging for tensorflow and pytorch."
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: babilim-notebooks\core_logger.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
    
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="__get_all_files" class="doc_header"><code>__get_all_files</code><a href="https://github.com/penguinmenac3/babilim/tree/master/babilim/core/logger.py#L84" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>__get_all_files</code>(<strong><code>root</code></strong>:<code>str</code>, <strong><code>forbidden_list</code></strong>:<code>List</code>[<code>str</code>])</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="log_value" class="doc_header"><code>log_value</code><a href="https://github.com/penguinmenac3/babilim/tree/master/babilim/core/logger.py#L146" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>log_value</code>(<strong><code>name</code></strong>:<code>str</code>, <strong><code>value</code></strong>:<code>object</code>)</p>
</blockquote>
<p>Log a value to the file or online server.
:param name: The name of the value to be logged.
:param value: The actual value. It can be anything that is json serializable.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="log_progress" class="doc_header"><code>log_progress</code><a href="https://github.com/penguinmenac3/babilim/tree/master/babilim/core/logger.py#L161" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>log_progress</code>(<strong><code>goal</code></strong>:<code>str</code>, <strong><code>progress</code></strong>:<code>float</code>, <strong><code>score</code></strong>:<code>float</code>)</p>
</blockquote>
<p>Update the progress value. Automatically also computes the ETA and updates it in the logs.
:param goal: The current goal it tries to reach. ("training", "validating", "pause", "waiting", "done")
:param progress: A value between 0 and 1 indicating the progress, where 1 means done. The value should grow monotonic.
:param score: The score that the approach achieved.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="log_image" class="doc_header"><code>log_image</code><a href="https://github.com/penguinmenac3/babilim/tree/master/babilim/core/logger.py#L234" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>log_image</code>(<strong><code>name</code></strong>:<code>str</code>, <strong><code>data</code></strong>:<code>ndarray</code>=<em><code>None</code></em>)</p>
</blockquote>
<p>Log an image.
:param name: The name of the image.
:param data: The data (optional) if none is provided it is assumed that a pyplot figure should be saved.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="close" class="doc_header"><code>close</code><a href="https://github.com/penguinmenac3/babilim/tree/master/babilim/core/logger.py#L251" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>close</code>(<strong><code>reason</code></strong>:<code>str</code>=<em><code>None</code></em>)</p>
</blockquote>
<p>Close the logger for a given reason.</p>
<p>If none is provided there is no final progress written. Provide a reason, if you do not manually set the final progress before.
A training loop typically manually sets the progress, so you will not need a reason in that case.</p>
<p>:param reason: The reason for the closing of the logger. It is recommended to use "done", "paused", "failed" as reason.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="setup_minimal" class="doc_header"><code>setup_minimal</code><a href="https://github.com/penguinmenac3/babilim/tree/master/babilim/core/logger.py#L276" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>setup_minimal</code>(<strong><code>log_folder</code></strong>:<code>str</code>)</p>
</blockquote>
<p>Setup the a simple logger (not suitable for training) but for data generation/preprocessing.</p>
<p>Creates the log folder, a src folder inside the log folder where it copies the current working directory and creates a log.txt, for logging progress.</p>
<p>:param log_folder: Folder where the logs should be created.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="setup" class="doc_header"><code>setup</code><a href="https://github.com/penguinmenac3/babilim/tree/master/babilim/core/logger.py#L298" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>setup</code>(<strong><code>config</code></strong>:<a href="config.html#Config"><code>Config</code></a>, <strong><code>continue_with_specific_checkpointpath</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>continue_training</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>Setup the logger.
This creates the folder structure required at the place specified in config.train.checkpoint_path.
After creating the folder structure it backs up the code of the current working directory to the folder structure.</p>
<p>:param config: The configuration that is used for this run.
:param continue_with_specific_checkpointpath: When a specific checkpoint is used to continue a run, set this. This avoids creating a new folder if it is not required.
:param continue_training: Same as specific checkpoint but the checkpoint is automatically selected to be the most recent. This avoids creating a new folder if it is not required.
:return: The path to the checkpoint folder.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="LogResult" class="doc_header"><code>class</code> <code>LogResult</code><a href="https://github.com/penguinmenac3/babilim/tree/master/babilim/core/logger.py#L343" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>LogResult</code>(<strong><code>name</code></strong>:<code>str</code>)</p>
</blockquote>
<h3 id="Constructor" class="doc_header">Constructor</h3><p>Annotation to log the result of a function.</p>
<p>A simple example would be the primary loss the training pipeline.</p>
<blockquote><blockquote><blockquote><p>@LogResult(name="loss") &gt;&gt;&gt; def loss(y_true, y_preds): &gt;&gt;&gt;     return 42 42</p>
</blockquote>
</blockquote>
</blockquote>
<ul>
<li><strong>name</strong>: The name for the logged result.</li>
</ul>
<h3 id="__call__" class="doc_header"><code>__call__</code></h3><blockquote><p><code>__call__</code>(<strong><code>f</code></strong>:<code>Callable</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="LogCall" class="doc_header"><code>class</code> <code>LogCall</code><a href="https://github.com/penguinmenac3/babilim/tree/master/babilim/core/logger.py#L369" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>LogCall</code>(<strong><code>name</code></strong>:<code>str</code>)</p>
</blockquote>
<h3 id="Constructor" class="doc_header">Constructor</h3><p>Annotation to log the number of times a function is called.</p>
<p>The following example logs a variable step, which tracks how often the function step gets called.</p>
<blockquote><blockquote><blockquote><p>@LogCall(name="step") &gt;&gt;&gt; def step(): &gt;&gt;&gt;     # Fancy training code... &gt;&gt;&gt;     return 42 42</p>
</blockquote>
</blockquote>
</blockquote>
<ul>
<li><strong>name</strong>: The name of the logged function call counting.</li>
<li><strong>primary</strong>: If the logged result is the primary loss (it probably isn't)</li>
</ul>
<h3 id="__call__" class="doc_header"><code>__call__</code></h3><blockquote><p><code>__call__</code>(<strong><code>f</code></strong>:<code>Callable</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
</div>
 

